<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>The Shapes Game</title>
  <meta name="viewport" content="width=device-width, user-scalable=no"/>
  <link href="game.css" rel="stylesheet">
  <link href="fonts/css/fontello.css" rel="stylesheet">  
</head>
<body>
  <div id="game-parent">
    <div id="game-container"> 
      <canvas id="pixi-canvas"></canvas>

      <div id="html-layer">
        <div id="sections"  dir="rtl">

          <!-- screen 1 -->
          <div id="intro-gui">
            <h1>ברוכים הבאים למשחק הצורות המשתנות!</h1>
            <p>הכנס מזהה משתמש:</p>
            <br>
            <p><input id="user-provided-id"></p>
            <br><button id="done-intro">המשך</button></p>
          </div>

          <div id="training-gui">
            <h1 id="training-title">שלב האימון</h1>

            <!-- screen 2 -->
            <div id="training-1">
              <p>המשימה שלך? לגלות צורות מעניינות ויפות.</p>
              <p>🔍 ניתן לגלות צורות על ידי הזזת הבלוקים הירוקים שעל המסך.
                <br>במרחב הצורות קיימות צורות מיוחדות רבות שניתן לגלות.
              </p>
              <div class="bottom-text">
                <p>תוכלו לגלות צורות על ידי הזזת הבלוקים הירוקים שעל המסך.</p>
                <p class="highlight">גררו את הבלוק השמאלי ביותר למיקום אחר ולחצו על הבא.</p>
                <br><button id="done-training-1" class="hidden">הבא</button>
              </div>
            </div>

            <!-- screen 3 -->
            <div id="training-2" class="hidden">
              <p>ניתן להזיז כל בלוק כל עוד כל הבלוקים נשארים מחוברים.</p>
              <p>במהלך המשחק, ניתן להזיז כמה בלוקים שתרצו.</p>
              <div class="bottom-text">
                <p>הזיזו בלוק נוסף למיקום אחר ולחצו על הבא.</p>
                <br><button id="done-training-2">הבנתי</button>
              </div>
            </div>

            <!-- screen 4 -->
            <div id="training-3" class="hidden">
              <div id="block-overlay" class="hidden"></div>
              <p>כאשר אתם מוצאים צורה מעניינת או יפה, ניתן לשמור אותה<br>
                בגלריה על ידי לחיצה על כפתור הלב.</p>
              <div class="bottom-text">
                <p class="highlight" id="click-there-p">לחץ/י עכשיו על כפתור הלב.</p>
                <button id="after-saving" class="hidden">המשך</button>
              </div>
            </div>

            <!-- screen 5 -->
            <div id="training-4" class="hidden">
              <div class="black-box">
                <p>בסיום המשחק תוכלו לראות<br>את כל הצורות ששמרת בגלריה.</p>
                <p id="game-length-sentence" style="text-align: right;">
                  ✅ יש לך 12 דקות לשחק.<br>
                  ✅ אין דרך נכונה או שגויה לשחק.<br>
                  ✅ שחקו לבד, בסביבה שקטה.<br>
                  ✅ והכי חשוב – תהנו!
                </p>

                <div class="bottom-text">
                  <button id="done-training-3">בואו נשחק</button>
                </div>
              </div>
            </div>
          </div>

          <div id="blocks-gui">
            <button id="add-shape" style="font-size: 24px; font-family: 'Segoe UI Emoji', 'Apple Color Emoji',emoji;">🤍
            </button>
            <br><button id="done-adding">End Game</button>
            <p id="square-countdown" class="hidden">85</p>
            <p id="end-early-message" class="hidden">You need to collect at least 5 shapes to move to the next step</p>
            <p id="continue-message" class="vertical-align hidden">Time's up!
              <br><br>Press the button below to continue
            </p>

            <div id="modal-confirm-done" class="hidden">
              <div id="modal-confirm-box">
              <p>Are you sure you want to end now?</p>
              <button id="modal-confirm-cancel-button">Return to game</button>
              <button id="modal-confirm-done-button">End game</button>
              </div>
            </div>

            <div id="square-timeout-modal" class="hidden">
              <div id="square-timeout-box">
              <p>You have not made a move for over 90 seconds, contrary to the instructions to play continuously and undistracted.
                <br>The game will now end and your participation in the study will be incomplete.</p>
              <button id="square-timeout-done-button">OK</button>
              </div>
            </div>
          </div>
          <div id="selection-gui">
            <p id="gallery-instructions">Please choose the 5 most creative shapes among the shapes you saved.
            </p>
            <button id="done-selection">Done</button>
            <button id="previous-page-button">Previous page</button>
            <button id="next-page-button">Next page</button>
          </div>
          <div id="results-gui">
            <div id="results-block">
              <h1>Results</h1>
              <div id="results-text" class="bottom-text">
                <p id="rapid-search-text" class="hidden"> 
                    Our study shows that creative search is a trade-off between novelty and value. 
                    <br>Your playing method suggests that you are <span class="highlight"><span class="searchScorePercent highlight"></span>%</span> more inclined toward <span class="highlight">rapid and spreading</span>
                    searches which result in higher visual novelty. 
                    In this kind of search, players tend to move rapidly between shapes, creating many shapes which spread across many different visual categories. 
                    This search strategy usually produces shapes that are more unique in our game.
                  </p>
                  <p id="focused-search-text" class="hidden">
                    Our study shows that creative search is a trade-off between novelty and value.
                    <br>Your playing method suggests that you are <span class="highlight"><span class="searchScorePercent highlight"></span>%</span> inclined toward <span class="highlight">focused and thoughtful searches</span> which result in higher visual value. 
                    In this kind of search, players tend to focus on each visual category they discover, collecting thoughtfully
                    shapes at increasing visual consensus. 
                    This search strategy usually produces shapes that carry more meaning in our game.
                  </p>

                <p><br>Your game ID is: <br><br><span class="code" id="code"></span></p>

                <p id="followup-link-container">To complete the experiment, <a id="followup-link" href="">please follow this link</a>.</p>
              </div>
          </div>

          <div id="thanks-block">
            <h1 class="vertical-align">Thanks for playing!</h1>
          </div>
          <div id="thanks-block-timeout">
            <h1 class="vertical-align">Session timed-out.</h1>
          </div>
        </div>
      </div>

      <div id="fullscreen-button">
        <i id="fullscreen-button-full" class="icon-resize-full"></i>
        <i id="fullscreen-button-small" class="icon-resize-small"></i>
      </div>

      </div>
    </div>
  </div>

  <script src="deps/pixi.js"></script>
  <script src="deps/q.js"></script>
  <script src="deps/q-xhr.js"></script>
  <script src="deps/underscore.js"></script>
  <script src="deps/redmetrics.js"></script>

  <script src="bundle.js"></script>
<!--  <script>-->
<!--    document.getElementById("add-shape").addEventListener("click", function() {-->
<!--      doc ument.getElementById("after-saving").click(); // Simulate clicking the "Next" button-->
<!--    });-->
<!--  </script>-->


  </body>
</html>
